<!-- Start Breadcrumbs -->
<app-breadcrumbs title="Dashboard" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<!-- End Breadcrumbs -->

<div *ngIf="cameras.length > 0">
    <div class="row" *ngFor="let camera of cameras">
        <div class="col-md-3">
            <!-- card -->
            <div class="card shadow-none border-end-md border-bottom rounded-0 mb-0">
                <div class="card-body">
                    <div dropdown container="body" class="dropdown float-end">
                        <a dropdownToggle class="text-reset dropdown-btn" href="javascript:void(0);">
                            <span class="text-muted fs-lg"><i class="mdi mdi-dots-vertical align-middle"></i></span>
                        </a>
                        <div *bsDropdownMenu class="dropdown-menu dropdown-menu-end dropdown-responsive">
                            <a class="dropdown-item" href="javascript:void(0);">Vídeos</a>
                            <a class="dropdown-item" href="javascript:void(0);">Donwnloads</a>
                        </div>
                    </div>
                    <div class="avatar-sm" *ngIf="!camera.isRecording">
                        <span class="avatar-title bg-primary-subtle text-primary rounded-circle fs-3"
                         (click)="startRecording(camera.channel)" style="cursor: pointer;">
                            <i class="ri-play-line"></i>
                        </span>
                    </div>
                    <div class="avatar-sm" *ngIf="camera.isRecording">
                        <span class="avatar-title bg-danger-subtle text-danger rounded-circle fs-3" 
                        (click)="stopRecording(camera.channel)" style="cursor: pointer;">
                            <i class=" ri-stop-circle-line"></i>
                        </span>
                    </div>
                    <div class="mt-4">
                        <p class="text-uppercase fw-medium text-muted text-truncate fs-sm">Câmara</p>
                        <h4 class="fw-semibold mb-3">
                            {{camera.channel}} 
                            <span class="spinner-grow flex-shrink-0 text-danger" role="status" style="width: 20px; height: 20px;"
                            *ngIf="camera.isRecording">
                                <span class="visually-hidden">Loading...</span>
                            </span>
                        </h4>
                                
                        <div class="d-flex align-items-center gap-2">
                            <h5 class="text-success fs-xs mb-0">
                                <i class="ri-arrow-right-up-line fs-sm align-middle"></i> 10
                            </h5>
                            <p class="text-muted mb-0">vídeos gravados</p>
                        </div>
                    </div>
                </div><!-- end card body -->
            </div><!-- end card -->
        </div><!-- end col -->
    </div>
</div>